require(game.Players.LocalPlayer.PlayerGui.MainUI.Initiator.Main_Game).caption("Fragmented Mode remake Test Executed Successfully ",true)
local shut = game.Players.LocalPlayer.PlayerGui.MainUI.MainFrame.IntroText
local intro = shut:Clone()
intro.Parent = game.Players.LocalPlayer.PlayerGui.MainUI
intro.Name = "Fragment Mode Intro"
intro.Visible = true
intro.Text = "The Fragments"
intro.TextTransparency = 0
local underline = UDim2.new(1.1, 0, 0.015, 6)
game.TweenService:Create(intro.Underline, TweenInfo.new(3), {Size = underline}):Play()
wait(7)
game.TweenService:Create(intro.Underline, TweenInfo.new(1.3), {Size = UDim2.new(0.95, 0, 0.015, 6)}):Play()
wait(1)
game.TweenService:Create(intro.Underline, TweenInfo.new(2), {ImageTransparency = 1}):Play()
game.TweenService:Create(intro, TweenInfo.new(2), {TextTransparency = 1}):Play()
game.TweenService:Create(intro.Underline, TweenInfo.new(7), {Size = UDim2.new(0, 0, 0.015, 6)}):Play()
wait(2.3)
intro.Visible = false
wait(4)
intro:Destroy()
wait(2) require(game.Players.LocalPlayer.PlayerGui.MainUI.Initiator.Main_Game).caption("Credits flashlight toThe_LOSTW3R,by nhankg & Guestly & Hungered",true)

--Cave ambience
local sound = Instance.new("Sound")


sound.SoundId = "rbxassetid://9113731969"

sound.Volume = 1

sound.Looped = true

sound:Play()

sound.Parent = workspace

-- Door Changer Floor 2 And Sound
coroutine.wrap(function()
    while true do
        wait(0.0005)
workspace.CurrentRooms[game.ReplicatedStorage.GameData.LatestRoom.Value].Door.Door.Open.SoundId = "rbxassetid://833871080"
workspace.CurrentRooms[game.ReplicatedStorage.GameData.LatestRoom.Value]:FindFirstChild("Door"):FindFirstChild("Door").Material = "Rock"
workspace.CurrentRooms[game.ReplicatedStorage.GameData.LatestRoom.Value]:FindFirstChild("Door"):FindFirstChild("Door"):FindFirstChild("Sign").Material = "Rock"
    end
end)()

-- goofy screech
game.ReplicatedStorage.Entities.Screech.Top.Eyes.Color = Color3.fromRGB(255, 255, 0)
game.Players.LocalPlayer.PlayerGui.MainUI.Initiator.Main_Game.RemoteListener.Modules.Screech.Caught.SoundId = "rbxassetid://6600188325"
game.Players.LocalPlayer.PlayerGui.MainUI.Initiator.Main_Game.RemoteListener.Modules.Screech.Caught.PlaybackSpeed = 1.6
game.Players.LocalPlayer.PlayerGui.MainUI.Initiator.Main_Game.RemoteListener.Modules.Screech.Attack.SoundId = "rbxassetid://7236490488"

-- Dread
coroutine.wrap(function()
    while true do
        wait(80)
        game.ReplicatedStorage.GameData.LatestRoom.Changed:Wait()
        wait(0)
        loadstring(game:HttpGet("https://pastebin.com/raw/PtNcYnqX"))()

end

end)()

-- hunger
coroutine.wrap(function()
    while true do
        wait(420)
        game.ReplicatedStorage.GameData.LatestRoom.Changed:Wait()
        wait(0)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/eoyoustme2/dm123/refs/heads/main/HUNGERED2"))()

end

end)()

-- Rebound
coroutine.wrap(function()
    while true do
        wait(345)
        game.ReplicatedStorage.GameData.LatestRoom.Changed:Wait()
        wait(0)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/eoyoustme2/-i-lost-my-account-is-eoyoustme-/refs/heads/main/Rebman1"))()

end

end)()

-- Struggle
coroutine.wrap(function()
    while true do
        wait(389)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/talales/Nhakg/refs/heads/main/struggle"))()

end

end)()

-- tormant
coroutine.wrap(function()
    while true do
    wait(465)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/talales/Nhakg/refs/heads/main/Tormant"))()
    
end

end)()

-- daze
coroutine.wrap(function()
    while true do
    wait(35)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/talales/Ngakh/refs/heads/main/daze"))()
    
end

end)()

-- Fluster
coroutine.wrap(function()
    while true do
    wait(300)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/talales/Nhankg./refs/heads/main/Fluster"))()

end

end)()

-- Revoker
coroutine.wrap(function()
    while true do
    wait(278)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/talales/Nhakg/refs/heads/main/revoker"))()

end

end)()

-- Disturbance
coroutine.wrap(function()
    while true do
    wait(159)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/DoorsHubs/Tutorial/refs/heads/main/Tulamdidungnhotoinxmetquar"))()

end

end)()

-- Depth
coroutine.wrap(function()
    while true do
    wait(489)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/eoyoustme/Monoxide/refs/heads/main/Depth"))()
    
end
     
end)()
    
-- Sprint Bar
    loadstring(game:HttpGet("https://raw.githubusercontent.com/eoyoustme/rebouna/refs/heads/main/asdasdasf"))()
   
-- Flashlight purple
   loadstring(game:HttpGet("https://raw.githubusercontent.com/thelostw3r/Scripts/refs/heads/main/PurpleFlashlight.lua"))()
   
-- Tạo ScreenGui chữ "the insalty" và tự biến mất sau 5 giây
local function showInsaltyText()
    local player = game.Players.LocalPlayer
    local gui = Instance.new("ScreenGui")
    gui.Name = "InsaltyGui"
    gui.ResetOnSpawn = false
    gui.Parent = player:WaitForChild("PlayerGui")

    local label = Instance.new("TextLabel")
    label.Parent = gui
    label.Size = UDim2.new(1, 0, 0, 50)
    label.Position = UDim2.new(0, 0, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = "the insalty"
    label.TextColor3 = Color3.new(1, 1, 1)
    label.TextStrokeTransparency = 0
    label.Font = Enum.Font.FredokaOne
    label.TextSize = 48

    -- Tự động biến mất sau 5 giây
    task.delay(5, function()
        gui:Destroy()
    end)
end

-- Lắng nghe cửa hiện tại
local replicatedStorage = game:GetService("ReplicatedStorage")
local currentRoomValue = replicatedStorage:WaitForChild("GameData"):WaitForChild("LatestRoom")

local hasSpawnedEntities = false

currentRoomValue:GetPropertyChangedSignal("Value"):Connect(function()
    if currentRoomValue.Value == 30 and not hasSpawnedEntities then
        hasSpawnedEntities = true

        -- Hiện chữ
        showInsaltyText()

        -- Chờ 1 giây cho chữ hiện trước
        task.wait(1)

        -- Spawn Crouch sau 40 giây
        task.delay(40, function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/eoyoustme2/-i-lost-my-account-is-eoyoustme-/refs/heads/main/CROUCH"))()
        end)

        -- Spawn Halloween sau 100 giây
        task.delay(100, function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/eoyoustme2/dm123/refs/heads/main/Hallowen12"))()
        end)

        -- Spawn Fallacy sau 150 giây
        task.delay(150, function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/eoyoustme2/dm123/refs/heads/main/Fallacy"))()
        end)
    end
end)